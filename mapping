# Função para criar symlinks baseado no diretório 'System'
create_symlinks() {
    local system_dir="$1"
    find "$system_dir" -type f | while read -r file; do
        local target="$HOME/${file#$system_dir}"
        # Verificar se o symlink já existe e aponta para o local correto
        if [[ -L "$target" && $(readlink "$target") == "$file" ]]; then
            echo "Symlink already exists: $target -> $file"
            continue  # Skip to the next iteration if the symlink is correct
        fi
        # Se o arquivo no local target já existir mas não é um symlink, criar um backup
        if [[ -e "$target" && ! -L "$target" ]]; then
            mv "$target" "$target.bak"
            echo "Backup created: $target -> $target.bak"
        fi
        # Criar o symlink
        ln -sfn "$file" "$target"
        # Alterar o owner do symlink para o usuário corrente
        sudo chown "$USER:$USER" "$target"
        echo "Created symlink: $file -> $target"
    done
}
